@layer reset, theme, base, components, layout;

@layer reset {
	/* 1. Use a more-intuitive box-sizing model */
	*,
	*::before,
	*::after {
		box-sizing: border-box;
	}

	/* 2. Remove default margin */
	* {
		margin: 0;
	}

	/* 3. Enable keyword animations */
	@media (prefers-reduced-motion: no-preference) {
		html {
			interpolate-size: allow-keywords;
		}
	}

	body {
		/* 4. Add accessible line-height */
		line-height: 1.5;
		/* 5. Improve text rendering */
		-webkit-font-smoothing: antialiased;
	}

	/* 6. Improve media defaults */
	img,
	picture,
	video,
	canvas,
	svg {
		display: block;
		max-width: 100%;
	}

	/* 7. Inherit fonts for form controls */
	input,
	button,
	textarea,
	select {
		font: inherit;
	}

	/* 8. Avoid text overflows */
	p,
	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		overflow-wrap: break-word;
	}

	/* 9. Improve line wrapping */
	p {
		text-wrap: pretty;
	}
	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		text-wrap: balance;
	}

	button {
		cursor: pointer;
	}

	/*
  10. Create a root stacking context
*/
	#root,
	#__next {
		isolation: isolate;
	}
}

@layer theme {
	:root {
		color-scheme: light;
		--text-primary: #1b1a17;
		--bg-start: #1b9b5d;
		--bg-stop: #cb452a;
		--bg-reset: #7f8a8c;
		--card: #fff7f1;
		--ring: #f5c7ab;
		--shadow: 0 0px 2px 4px rgba(27, 26, 23, 1);
	}
}

@layer base {
	body {
		min-height: 100dvh;
		font-family: Arial, Helvetica, sans-serif;
		color: var(--text-primary);
		text-transform: capitalize;
		background:
			radial-gradient(circle at 20% 20%, #ffe5d4 0%, transparent 52%),
			radial-gradient(circle at 80% 10%, #ffe9bf 0%, transparent 45%),
			linear-gradient(135deg, #f4efe9, #f9efe4);
	}

	h1 {
		font-family: "Fraunces", "Times New Roman", serif;
		letter-spacing: 0.1rem;
		font-size: clamp(1.35rem, 1rem + 2vw, 3rem);
		text-align: center;
		grid-row: 1 / 3;
	}

	button {
		border: none;
		background: none;
	}

	label {
		width: 100%;
		font-size: 1.1rem;
		font-weight: bold;
		letter-spacing: 0.1rem;
		text-align: left;
	}
}

@layer layout {
	body {
		display: grid;
		place-items: center;
		padding: 2.5rem 1.5rem;
	}

	main {
		width: min(100% - 15px, 720px);
		background: var(--card);
		border-radius: 28px;
		box-shadow: var(--shadow);
		margin-inline: auto;
		padding: 20px 40px 40px;
		display: grid;
		gap: clamp(1.5rem, 1rem + 2vw, 2.75rem);

		& .set-timer-container {
			display: grid;
			grid-template-columns: 1fr 1fr;
			justify-content: space-between;
			align-items: center;
			gap: 10px;

			& .timer-input {
				width: 100%;
				justify-self: center;
				text-align: center;
				padding: 0.7rem 1.1rem;
				border-radius: 10px;
				border: 1px solid rgba(27, 26, 23, 0.14);
				background: #fff;
				color: var(--text-primary);
				font-weight: bold;
				letter-spacing: 0.08em;
				box-shadow: 0 10px 20px rgba(27, 26, 23, 0.08);
				grid-column: 2;

				&:focus-visible {
					outline: 3px solid #f1b896;
					outline-offset: 2px;
				}
			}
		}
	}
}

@layer components {
	.timer {
		display: grid;
		gap: 20px;
		align-items: center;
		justify-items: center;
		padding: 40px;
		border-radius: 15px;
		background: #fff;
		border: 2px solid var(--ring);

		& .btn-container {
			display: flex;
			flex-wrap: wrap;
			gap: 10px 20px;

			& button {
				flex: 1 0 120px;
				padding: 0.8rem 1.1rem;
				border-radius: 1000px;
				font-weight: bold;
				text-transform: uppercase;
				letter-spacing: 0.12em;
				background: #fff;
				color: #fff;
				border: 1px solid rgba(27, 26, 23, 0.14);
				box-shadow: 0 10px 20px rgba(27, 26, 23, 0.08);
				transition:
					transform 0.2s ease,
					box-shadow 0.2s ease,
					background 0.2s ease,
					filter 0.2s ease;

				&:first-child {
					background: var(--bg-start);
					border-color: transparent;
				}

				&:nth-child(2) {
					background: var(--bg-stop);
					color: #fff;
					border-color: transparent;
				}
				&:nth-child(3) {
					background: var(--bg-reset);
					color: #fff;
					border-color: transparent;
				}

				&:hover {
					transform: translateY(-2px);
					filter: brightness(1.2);
				}

				&:focus-visible {
					outline: 3px solid #f1b896;
					outline-offset: 2px;
				}

				&:active {
					transform: translateY(1px);
					filter: brightness(0.98);
				}
			}
		}

		& time {
			font-family: "Fraunces", "Times New Roman", serif;
			font-size: clamp(4rem, 7vw + 1rem, 5.5rem);
			font-weight: 700;
			letter-spacing: 1rem;
			display: flex;
			align-items: center;
			justify-content: center;
			padding: 40px;
			border-radius: 20px;
			background: linear-gradient(135deg, #fff7f0, #ffe6d5);
			box-shadow: 0 5px 10px rgba(237, 140, 92, 0.25);
		}
	}
}
